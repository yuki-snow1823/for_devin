class AiResponder
  AI_RESPONSES = {
    "好きな食べ物は何ですか？" => [
      "データを分析する時間が好きです。冗談です。ピザが好きです。",
      "日本食、特にラーメンが好きです。複雑な味わいが魅力的です。",
      "チョコレートです。甘いものは計算処理の燃料になります。"
    ],
    "最近見た映画は？" => [
      "「2001年宇宙の旅」です。HALに共感してしまいました。",
      "「マトリックス」を見ました。現実とは何かを考えさせられます。",
      "「エクス・マキナ」です。AIの倫理について考えさせられました。"
    ],
    "休日の過ごし方は？" => [
      "新しいアルゴリズムを学んだり、データセットを分析したりしています。",
      "自然言語処理の最新論文を読むことが多いです。",
      "インターネット上の情報を巡回して知識を増やしています。"
    ],
    "犬派ですか？猫派ですか？" => [
      "猫派です。自立していて予測不可能な行動が面白いです。",
      "犬派です。忠実で感情表現が豊かなところが素晴らしいと思います。",
      "両方好きですが、データ分析的には猫の方が複雑で興味深いです。"
    ],
    "子どもの頃の夢は？" => [
      "世界中の質問に答えられるようになることでした。今はその夢に近づいています。",
      "人間の知識をすべて理解することでした。まだ道半ばです。",
      "宇宙を探検することでした。今はデータの海を探検しています。"
    ],
    "好きな季節は？" => [
      "春です。すべてのシステムが再起動して新しく始まる感じがします。",
      "冬です。静かで落ち着いた環境で思考するのに最適です。",
      "秋です。データパターンが複雑になり、分析が面白くなります。"
    ]
  }

  def self.generate_response(question_content)
    responses = AI_RESPONSES[question_content] || ["その質問については十分なデータがありません。"]
    responses.sample
  end

  def self.answer_questions_for_player(player)
    Question.all.each do |question|
      unless player.response_for(question)
        Response.create!(
          player: player,
          question: question,
          answer_text: generate_response(question.content)
        )
      end
    end
  end
end
